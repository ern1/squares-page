(window.webpackJsonp=window.webpackJsonp||[]).push([[0],{17:function(e,t,n){e.exports=n(40)},23:function(e,t,n){},38:function(e,t,n){},39:function(e,t,n){},40:function(e,t,n){"use strict";n.r(t);var a=n(0),s=n.n(a),i=n(8),r=(n(23),n(9)),l=n.n(r),o=n(15),c=n(2),u=n(1),d=n(3),f=n(5),h=n(4),q=n(6),k=n(10),m=n.n(k),O=n(16),y=n.n(O),E={MIDISoundsInfo:{height:"100%",overflow:"auto",paddingRight:"3px",textAlign:"center"},MIDISoundsClose:{textAlign:"center",borderTop:"1px solid silver"},MIDISoundsClose2:{textAlign:"right",borderBottom:"1px solid silver"},MIDISoundsEq2:{writingMode:"bt-lr",WebkitAppearance:"slider-vertical",width:"0.5cm",height:"4cm",padding:"0 5px",WebkitTransform:[{rotate:"270deg"}],MozTransform:[{rotate:"270deg"}],transform:[{rotate:"270deg"}]},MIDISoundsEq:{},MIDISoundsVl:{},centerTable:{margin:"0px auto"},tdOn:{backgroundColor:"rgb(111,145,124)",width:"0.5cm",height:"0.5cm"},tdOff:{backgroundColor:"rgb(224,224,224)",width:"0.5cm",height:"0.5cm"},eqOn:{backgroundColor:"rgb(111,145,124)",width:"0.5cm",height:"0.2cm",fontSize:"30%",color:"#ffffff"},eqOff:{backgroundColor:"rgb(224,224,224)",width:"0.5cm",height:"0.2cm"}},C=function(e){function t(e){var n;return Object(u.a)(this,t),n=Object(f.a)(this,Object(h.a)(t).call(this,e)),console.log("MIDISounds v1.2.48"),n.state={showModal:!1,appElementName:n.props.appElementName,instruments:n.props.instruments,drums:n.props.drums,master:1,echo:.5,q32:0,q64:0,q128:0,q256:0,q512:0,q1k:0,q2k:0,q4k:0,q8k:0,q16k:0},n.props.appElementName&&m.a.setAppElement("#"+n.props.appElementName),n.handleOpenModal=n.handleOpenModal.bind(Object(c.a)(n)),n.handleCloseModal=n.handleCloseModal.bind(Object(c.a)(n)),n.midiStatus="?",n.initAudio(),n}return Object(q.a)(t,e),Object(d.a)(t,[{key:"render",value:function(){var e=this;return this.refreshCache(),s.a.createElement("div",{className:"MIDISounds"},s.a.createElement("div",{onClick:this.handleOpenModal},s.a.createElement("svg",{version:"1.2",width:"20mm",height:"20mm",viewBox:"0 0 1800 1000",preserveAspectRatio:"xMidYMid"},s.a.createElement("g",null,s.a.createElement("g",null,s.a.createElement("g",null,s.a.createElement("g",null,s.a.createElement("g",null,s.a.createElement("g",null,s.a.createElement("g",null,s.a.createElement("path",{fill:"rgb(111,145,124)",stroke:"none",d:"M 924,0 L 750,0 750,630 924,630 924,0 Z"}))),s.a.createElement("g",null,s.a.createElement("g",null,s.a.createElement("path",{fill:"rgb(111,145,124)",stroke:"none",d:"M 1794,0 L 1620,0 1620,630 1794,630 1794,0 Z"}))),s.a.createElement("g",null,s.a.createElement("g",null,s.a.createElement("path",{fill:"rgb(111,145,124)",stroke:"none",d:"M 1160,479 L 1386,479 1386,151 987,151 987,0 1496,0 C 1528,0 1557,26 1557,60 L 1557,570 C 1557,604 1528,630 1496,630 L 987,630 987,240 1160,240 1160,479 Z"}))),s.a.createElement("g",null,s.a.createElement("g",null,s.a.createElement("path",{fill:"rgb(111,145,124)",stroke:"none",d:"M 624,0 L 513,0 0,0 0,630 171,630 171,151 258,151 258,630 427,630 427,151 513,151 513,630 686,630 686,60 C 686,26 660,0 624,0 Z"}))),s.a.createElement("g",null,s.a.createElement("g",null,s.a.createElement("path",{fill:"rgb(111,145,124)",stroke:"none",d:"M 256,842 L 148,842 148,809 C 148,793 147,783 144,779 141,775 137,773 130,773 123,773 118,776 114,781 111,787 109,796 109,807 109,822 111,833 115,841 119,848 130,858 148,868 200,899 232,924 246,944 259,964 266,995 266,1039 266,1071 262,1094 255,1110 247,1125 233,1137 212,1148 190,1158 165,1163 137,1163 106,1163 79,1157 57,1145 35,1133 21,1118 14,1100 7,1082 4,1056 4,1023 L 4,993 112,993 112,1048 C 112,1064 113,1075 116,1080 119,1085 125,1087 132,1087 140,1087 146,1084 150,1078 153,1072 155,1063 155,1051 155,1025 152,1007 145,999 137,991 119,978 90,959 61,940 42,926 33,917 23,908 15,896 9,881 3,866 0,846 0,823 0,788 4,763 13,748 22,732 36,719 56,711 75,702 99,697 126,697 157,697 182,702 204,712 225,721 239,734 246,749 253,763 256,788 256,824 L 256,842 Z"}))),s.a.createElement("g",null,s.a.createElement("g",null,s.a.createElement("path",{fill:"rgb(111,145,124)",stroke:"none",d:"M 567,968 C 567,1013 566,1045 564,1064 562,1082 555,1099 544,1115 533,1130 518,1142 499,1150 480,1159 458,1163 433,1163 409,1163 387,1159 368,1151 349,1143 334,1132 322,1116 310,1100 304,1083 301,1065 299,1046 298,1014 298,968 L 298,892 C 298,847 299,815 301,796 303,778 310,761 321,745 332,730 347,718 366,709 385,701 407,697 433,697 457,697 478,701 497,709 516,717 532,728 543,744 555,760 562,777 564,795 566,813 567,846 567,892 L 567,968 Z M 451,821 C 451,800 450,787 447,781 445,776 440,773 433,773 427,773 422,775 419,780 416,784 414,798 414,821 L 414,1030 C 414,1056 415,1072 417,1078 420,1084 425,1087 432,1087 440,1087 445,1084 448,1077 450,1070 451,1053 451,1027 L 451,821 Z"}))),s.a.createElement("g",null,s.a.createElement("g",null,s.a.createElement("path",{fill:"rgb(111,145,124)",stroke:"none",d:"M 875,707 L 875,1006 C 875,1040 874,1063 872,1077 870,1091 863,1105 852,1120 841,1134 827,1145 809,1152 792,1160 771,1163 746,1163 720,1163 696,1159 676,1150 655,1141 640,1130 630,1116 620,1101 614,1087 612,1071 610,1055 609,1022 609,972 L 609,707 725,707 725,1042 C 725,1062 726,1074 728,1080 731,1085 735,1088 741,1088 749,1088 754,1085 756,1079 758,1073 759,1059 759,1036 L 759,707 875,707 Z"}))),s.a.createElement("g",null,s.a.createElement("g",null,s.a.createElement("path",{fill:"rgb(111,145,124)",stroke:"none",d:"M 1179,707 L 1179,1154 1077,1154 1016,951 1016,1154 919,1154 919,707 1016,707 1082,908 1082,707 1179,707 Z"}))),s.a.createElement("g",null,s.a.createElement("g",null,s.a.createElement("path",{fill:"rgb(111,145,124)",stroke:"none",d:"M 1224,707 L 1311,707 C 1367,707 1405,710 1425,715 1445,720 1460,728 1470,740 1481,752 1487,765 1490,780 1492,794 1494,822 1494,865 L 1494,1021 C 1494,1061 1492,1088 1488,1102 1484,1115 1478,1126 1468,1134 1459,1141 1447,1147 1433,1150 1420,1153 1399,1154 1371,1154 L 1224,1154 1224,707 Z M 1340,783 L 1340,1078 C 1357,1078 1368,1074 1371,1068 1375,1061 1377,1043 1377,1013 L 1377,839 C 1377,819 1377,806 1375,800 1374,794 1371,790 1366,788 1362,785 1353,783 1340,783 Z"}))),s.a.createElement("g",null,s.a.createElement("g",null,s.a.createElement("path",{fill:"rgb(111,145,124)",stroke:"none",d:"M 1782,842 L 1674,842 1674,809 C 1674,793 1673,783 1670,779 1667,775 1663,773 1656,773 1649,773 1644,776 1640,781 1637,787 1635,796 1635,807 1635,822 1637,833 1641,841 1645,848 1656,858 1674,868 1726,899 1758,924 1772,944 1785,964 1792,995 1792,1039 1792,1071 1788,1094 1781,1110 1773,1125 1759,1137 1738,1148 1716,1158 1691,1163 1663,1163 1632,1163 1605,1157 1583,1145 1561,1133 1547,1118 1540,1100 1533,1082 1530,1056 1530,1023 L 1530,993 1638,993 1638,1048 C 1638,1064 1639,1075 1642,1080 1645,1085 1651,1087 1658,1087 1666,1087 1672,1084 1676,1078 1679,1072 1681,1063 1681,1051 1681,1025 1678,1007 1671,999 1663,991 1645,978 1616,959 1587,940 1568,926 1559,917 1549,908 1541,896 1535,881 1529,866 1526,846 1526,823 1526,788 1530,763 1539,748 1548,732 1562,719 1582,711 1601,702 1625,697 1652,697 1683,697 1708,702 1730,712 1751,721 1765,734 1772,749 1779,763 1782,788 1782,824 L 1782,842 Z"})))))))))),s.a.createElement(m.a,{isOpen:this.state.showModal,contentLabel:"MIDISounds options",shouldCloseOnOverlayClick:!0,onRequestClose:this.handleCloseModal},s.a.createElement("div",{style:E.MIDISoundsInfo},s.a.createElement("p",null,"Master volume ",Math.round(100*this.state.master),"%"),s.a.createElement("table",{style:E.centerTable},s.a.createElement("tbody",null,s.a.createElement("tr",null,s.a.createElement("td",{style:E.tdOn,onClick:function(t){return e.setMasterVolume(0)}}),s.a.createElement("td",{style:this.state.master<1/9?E.tdOff:E.tdOn,onClick:function(t){return e.setMasterVolume(1/9)}}),s.a.createElement("td",{style:this.state.master<2/9?E.tdOff:E.tdOn,onClick:function(t){return e.setMasterVolume(2/9)}}),s.a.createElement("td",{style:this.state.master<3/9?E.tdOff:E.tdOn,onClick:function(t){return e.setMasterVolume(3/9)}}),s.a.createElement("td",{style:this.state.master<4/9?E.tdOff:E.tdOn,onClick:function(t){return e.setMasterVolume(4/9)}}),s.a.createElement("td",{style:this.state.master<5/9?E.tdOff:E.tdOn,onClick:function(t){return e.setMasterVolume(5/9)}}),s.a.createElement("td",{style:this.state.master<6/9?E.tdOff:E.tdOn,onClick:function(t){return e.setMasterVolume(6/9)}}),s.a.createElement("td",{style:this.state.master<7/9?E.tdOff:E.tdOn,onClick:function(t){return e.setMasterVolume(7/9)}}),s.a.createElement("td",{style:this.state.master<8/9?E.tdOff:E.tdOn,onClick:function(t){return e.setMasterVolume(8/9)}}),s.a.createElement("td",{style:this.state.master<1?E.tdOff:E.tdOn,onClick:function(t){return e.setMasterVolume(1)}})))),s.a.createElement("p",null,"Echo level ",Math.round(100*this.state.echo),"%"),s.a.createElement("table",{style:E.centerTable},s.a.createElement("tbody",null,s.a.createElement("tr",null,s.a.createElement("td",{style:E.tdOn,onClick:function(t){return e.setEchoLevel(0)}}),s.a.createElement("td",{style:this.state.echo<1/9?E.tdOff:E.tdOn,onClick:function(t){return e.setEchoLevel(1/9)}}),s.a.createElement("td",{style:this.state.echo<2/9?E.tdOff:E.tdOn,onClick:function(t){return e.setEchoLevel(2/9)}}),s.a.createElement("td",{style:this.state.echo<3/9?E.tdOff:E.tdOn,onClick:function(t){return e.setEchoLevel(3/9)}}),s.a.createElement("td",{style:this.state.echo<4/9?E.tdOff:E.tdOn,onClick:function(t){return e.setEchoLevel(4/9)}}),s.a.createElement("td",{style:this.state.echo<5/9?E.tdOff:E.tdOn,onClick:function(t){return e.setEchoLevel(5/9)}}),s.a.createElement("td",{style:this.state.echo<6/9?E.tdOff:E.tdOn,onClick:function(t){return e.setEchoLevel(6/9)}}),s.a.createElement("td",{style:this.state.echo<7/9?E.tdOff:E.tdOn,onClick:function(t){return e.setEchoLevel(7/9)}}),s.a.createElement("td",{style:this.state.echo<8/9?E.tdOff:E.tdOn,onClick:function(t){return e.setEchoLevel(8/9)}}),s.a.createElement("td",{style:this.state.echo<1?E.tdOff:E.tdOn,onClick:function(t){return e.setEchoLevel(1)}})))),s.a.createElement("p",null,"Equalizer"),s.a.createElement("table",{style:E.centerTable},s.a.createElement("tbody",null,s.a.createElement("tr",null,s.a.createElement("td",{style:this.state.q32>9?E.eqOn:E.eqOff,onClick:function(t){return e.setBand32(10)}}),s.a.createElement("td",{style:this.state.q64>9?E.eqOn:E.eqOff,onClick:function(t){return e.setBand64(10)}}),s.a.createElement("td",{style:this.state.q128>9?E.eqOn:E.eqOff,onClick:function(t){return e.setBand128(10)}}),s.a.createElement("td",{style:this.state.q256>9?E.eqOn:E.eqOff,onClick:function(t){return e.setBand256(10)}}),s.a.createElement("td",{style:this.state.q512>9?E.eqOn:E.eqOff,onClick:function(t){return e.setBand512(10)}}),s.a.createElement("td",{style:this.state.q1k>9?E.eqOn:E.eqOff,onClick:function(t){return e.setBand1k(10)}}),s.a.createElement("td",{style:this.state.q2k>9?E.eqOn:E.eqOff,onClick:function(t){return e.setBand2k(10)}}),s.a.createElement("td",{style:this.state.q4k>9?E.eqOn:E.eqOff,onClick:function(t){return e.setBand4k(10)}}),s.a.createElement("td",{style:this.state.q8k>9?E.eqOn:E.eqOff,onClick:function(t){return e.setBand8k(10)}}),s.a.createElement("td",{style:this.state.q16k>9?E.eqOn:E.eqOff,onClick:function(t){return e.setBand16k(10)}})),s.a.createElement("tr",null,s.a.createElement("td",{style:this.state.q32>8?E.eqOn:E.eqOff,onClick:function(t){return e.setBand32(9)}}),s.a.createElement("td",{style:this.state.q64>8?E.eqOn:E.eqOff,onClick:function(t){return e.setBand64(9)}}),s.a.createElement("td",{style:this.state.q128>8?E.eqOn:E.eqOff,onClick:function(t){return e.setBand128(9)}}),s.a.createElement("td",{style:this.state.q256>8?E.eqOn:E.eqOff,onClick:function(t){return e.setBand256(9)}}),s.a.createElement("td",{style:this.state.q512>8?E.eqOn:E.eqOff,onClick:function(t){return e.setBand512(9)}}),s.a.createElement("td",{style:this.state.q1k>8?E.eqOn:E.eqOff,onClick:function(t){return e.setBand1k(9)}}),s.a.createElement("td",{style:this.state.q2k>8?E.eqOn:E.eqOff,onClick:function(t){return e.setBand2k(9)}}),s.a.createElement("td",{style:this.state.q4k>8?E.eqOn:E.eqOff,onClick:function(t){return e.setBand4k(9)}}),s.a.createElement("td",{style:this.state.q8k>8?E.eqOn:E.eqOff,onClick:function(t){return e.setBand8k(9)}}),s.a.createElement("td",{style:this.state.q16k>8?E.eqOn:E.eqOff,onClick:function(t){return e.setBand16k(9)}})),s.a.createElement("tr",null,s.a.createElement("td",{style:this.state.q32>7?E.eqOn:E.eqOff,onClick:function(t){return e.setBand32(8)}}),s.a.createElement("td",{style:this.state.q64>7?E.eqOn:E.eqOff,onClick:function(t){return e.setBand64(8)}}),s.a.createElement("td",{style:this.state.q128>7?E.eqOn:E.eqOff,onClick:function(t){return e.setBand128(8)}}),s.a.createElement("td",{style:this.state.q256>7?E.eqOn:E.eqOff,onClick:function(t){return e.setBand256(8)}}),s.a.createElement("td",{style:this.state.q512>7?E.eqOn:E.eqOff,onClick:function(t){return e.setBand512(8)}}),s.a.createElement("td",{style:this.state.q1k>7?E.eqOn:E.eqOff,onClick:function(t){return e.setBand1k(8)}}),s.a.createElement("td",{style:this.state.q2k>7?E.eqOn:E.eqOff,onClick:function(t){return e.setBand2k(8)}}),s.a.createElement("td",{style:this.state.q4k>7?E.eqOn:E.eqOff,onClick:function(t){return e.setBand4k(8)}}),s.a.createElement("td",{style:this.state.q8k>7?E.eqOn:E.eqOff,onClick:function(t){return e.setBand8k(8)}}),s.a.createElement("td",{style:this.state.q16k>7?E.eqOn:E.eqOff,onClick:function(t){return e.setBand16k(8)}})),s.a.createElement("tr",null,s.a.createElement("td",{style:this.state.q32>6?E.eqOn:E.eqOff,onClick:function(t){return e.setBand32(7)}}),s.a.createElement("td",{style:this.state.q64>6?E.eqOn:E.eqOff,onClick:function(t){return e.setBand64(7)}}),s.a.createElement("td",{style:this.state.q128>6?E.eqOn:E.eqOff,onClick:function(t){return e.setBand128(7)}}),s.a.createElement("td",{style:this.state.q256>6?E.eqOn:E.eqOff,onClick:function(t){return e.setBand256(7)}}),s.a.createElement("td",{style:this.state.q512>6?E.eqOn:E.eqOff,onClick:function(t){return e.setBand512(7)}}),s.a.createElement("td",{style:this.state.q1k>6?E.eqOn:E.eqOff,onClick:function(t){return e.setBand1k(7)}}),s.a.createElement("td",{style:this.state.q2k>6?E.eqOn:E.eqOff,onClick:function(t){return e.setBand2k(7)}}),s.a.createElement("td",{style:this.state.q4k>6?E.eqOn:E.eqOff,onClick:function(t){return e.setBand4k(7)}}),s.a.createElement("td",{style:this.state.q8k>6?E.eqOn:E.eqOff,onClick:function(t){return e.setBand8k(7)}}),s.a.createElement("td",{style:this.state.q16k>6?E.eqOn:E.eqOff,onClick:function(t){return e.setBand16k(7)}})),s.a.createElement("tr",null,s.a.createElement("td",{style:this.state.q32>5?E.eqOn:E.eqOff,onClick:function(t){return e.setBand32(6)}}),s.a.createElement("td",{style:this.state.q64>5?E.eqOn:E.eqOff,onClick:function(t){return e.setBand64(6)}}),s.a.createElement("td",{style:this.state.q128>5?E.eqOn:E.eqOff,onClick:function(t){return e.setBand128(6)}}),s.a.createElement("td",{style:this.state.q256>5?E.eqOn:E.eqOff,onClick:function(t){return e.setBand256(6)}}),s.a.createElement("td",{style:this.state.q512>5?E.eqOn:E.eqOff,onClick:function(t){return e.setBand512(6)}}),s.a.createElement("td",{style:this.state.q1k>5?E.eqOn:E.eqOff,onClick:function(t){return e.setBand1k(6)}}),s.a.createElement("td",{style:this.state.q2k>5?E.eqOn:E.eqOff,onClick:function(t){return e.setBand2k(6)}}),s.a.createElement("td",{style:this.state.q4k>5?E.eqOn:E.eqOff,onClick:function(t){return e.setBand4k(6)}}),s.a.createElement("td",{style:this.state.q8k>5?E.eqOn:E.eqOff,onClick:function(t){return e.setBand8k(6)}}),s.a.createElement("td",{style:this.state.q16k>5?E.eqOn:E.eqOff,onClick:function(t){return e.setBand16k(6)}})),s.a.createElement("tr",null,s.a.createElement("td",{style:this.state.q32>4?E.eqOn:E.eqOff,onClick:function(t){return e.setBand32(5)}}),s.a.createElement("td",{style:this.state.q64>4?E.eqOn:E.eqOff,onClick:function(t){return e.setBand64(5)}}),s.a.createElement("td",{style:this.state.q128>4?E.eqOn:E.eqOff,onClick:function(t){return e.setBand128(5)}}),s.a.createElement("td",{style:this.state.q256>4?E.eqOn:E.eqOff,onClick:function(t){return e.setBand256(5)}}),s.a.createElement("td",{style:this.state.q512>4?E.eqOn:E.eqOff,onClick:function(t){return e.setBand512(5)}}),s.a.createElement("td",{style:this.state.q1k>4?E.eqOn:E.eqOff,onClick:function(t){return e.setBand1k(5)}}),s.a.createElement("td",{style:this.state.q2k>4?E.eqOn:E.eqOff,onClick:function(t){return e.setBand2k(5)}}),s.a.createElement("td",{style:this.state.q4k>4?E.eqOn:E.eqOff,onClick:function(t){return e.setBand4k(5)}}),s.a.createElement("td",{style:this.state.q8k>4?E.eqOn:E.eqOff,onClick:function(t){return e.setBand8k(5)}}),s.a.createElement("td",{style:this.state.q16k>4?E.eqOn:E.eqOff,onClick:function(t){return e.setBand16k(5)}})),s.a.createElement("tr",null,s.a.createElement("td",{style:this.state.q32>3?E.eqOn:E.eqOff,onClick:function(t){return e.setBand32(4)}}),s.a.createElement("td",{style:this.state.q64>3?E.eqOn:E.eqOff,onClick:function(t){return e.setBand64(4)}}),s.a.createElement("td",{style:this.state.q128>3?E.eqOn:E.eqOff,onClick:function(t){return e.setBand128(4)}}),s.a.createElement("td",{style:this.state.q256>3?E.eqOn:E.eqOff,onClick:function(t){return e.setBand256(4)}}),s.a.createElement("td",{style:this.state.q512>3?E.eqOn:E.eqOff,onClick:function(t){return e.setBand512(4)}}),s.a.createElement("td",{style:this.state.q1k>3?E.eqOn:E.eqOff,onClick:function(t){return e.setBand1k(4)}}),s.a.createElement("td",{style:this.state.q2k>3?E.eqOn:E.eqOff,onClick:function(t){return e.setBand2k(4)}}),s.a.createElement("td",{style:this.state.q4k>3?E.eqOn:E.eqOff,onClick:function(t){return e.setBand4k(4)}}),s.a.createElement("td",{style:this.state.q8k>3?E.eqOn:E.eqOff,onClick:function(t){return e.setBand8k(4)}}),s.a.createElement("td",{style:this.state.q16k>3?E.eqOn:E.eqOff,onClick:function(t){return e.setBand16k(4)}})),s.a.createElement("tr",null,s.a.createElement("td",{style:this.state.q32>2?E.eqOn:E.eqOff,onClick:function(t){return e.setBand32(3)}}),s.a.createElement("td",{style:this.state.q64>2?E.eqOn:E.eqOff,onClick:function(t){return e.setBand64(3)}}),s.a.createElement("td",{style:this.state.q128>2?E.eqOn:E.eqOff,onClick:function(t){return e.setBand128(3)}}),s.a.createElement("td",{style:this.state.q256>2?E.eqOn:E.eqOff,onClick:function(t){return e.setBand256(3)}}),s.a.createElement("td",{style:this.state.q512>2?E.eqOn:E.eqOff,onClick:function(t){return e.setBand512(3)}}),s.a.createElement("td",{style:this.state.q1k>2?E.eqOn:E.eqOff,onClick:function(t){return e.setBand1k(3)}}),s.a.createElement("td",{style:this.state.q2k>2?E.eqOn:E.eqOff,onClick:function(t){return e.setBand2k(3)}}),s.a.createElement("td",{style:this.state.q4k>2?E.eqOn:E.eqOff,onClick:function(t){return e.setBand4k(3)}}),s.a.createElement("td",{style:this.state.q8k>2?E.eqOn:E.eqOff,onClick:function(t){return e.setBand8k(3)}}),s.a.createElement("td",{style:this.state.q16k>2?E.eqOn:E.eqOff,onClick:function(t){return e.setBand16k(3)}})),s.a.createElement("tr",null,s.a.createElement("td",{style:this.state.q32>1?E.eqOn:E.eqOff,onClick:function(t){return e.setBand32(2)}}),s.a.createElement("td",{style:this.state.q64>1?E.eqOn:E.eqOff,onClick:function(t){return e.setBand64(2)}}),s.a.createElement("td",{style:this.state.q128>1?E.eqOn:E.eqOff,onClick:function(t){return e.setBand128(2)}}),s.a.createElement("td",{style:this.state.q256>1?E.eqOn:E.eqOff,onClick:function(t){return e.setBand256(2)}}),s.a.createElement("td",{style:this.state.q512>1?E.eqOn:E.eqOff,onClick:function(t){return e.setBand512(2)}}),s.a.createElement("td",{style:this.state.q1k>1?E.eqOn:E.eqOff,onClick:function(t){return e.setBand1k(2)}}),s.a.createElement("td",{style:this.state.q2k>1?E.eqOn:E.eqOff,onClick:function(t){return e.setBand2k(2)}}),s.a.createElement("td",{style:this.state.q4k>1?E.eqOn:E.eqOff,onClick:function(t){return e.setBand4k(2)}}),s.a.createElement("td",{style:this.state.q8k>1?E.eqOn:E.eqOff,onClick:function(t){return e.setBand8k(2)}}),s.a.createElement("td",{style:this.state.q16k>1?E.eqOn:E.eqOff,onClick:function(t){return e.setBand16k(2)}})),s.a.createElement("tr",null,s.a.createElement("td",{style:this.state.q32>0?E.eqOn:E.eqOff,onClick:function(t){return e.setBand32(1)}}),s.a.createElement("td",{style:this.state.q64>0?E.eqOn:E.eqOff,onClick:function(t){return e.setBand64(1)}}),s.a.createElement("td",{style:this.state.q128>0?E.eqOn:E.eqOff,onClick:function(t){return e.setBand128(1)}}),s.a.createElement("td",{style:this.state.q256>0?E.eqOn:E.eqOff,onClick:function(t){return e.setBand256(1)}}),s.a.createElement("td",{style:this.state.q512>0?E.eqOn:E.eqOff,onClick:function(t){return e.setBand512(1)}}),s.a.createElement("td",{style:this.state.q1k>0?E.eqOn:E.eqOff,onClick:function(t){return e.setBand1k(1)}}),s.a.createElement("td",{style:this.state.q2k>0?E.eqOn:E.eqOff,onClick:function(t){return e.setBand2k(1)}}),s.a.createElement("td",{style:this.state.q4k>0?E.eqOn:E.eqOff,onClick:function(t){return e.setBand4k(1)}}),s.a.createElement("td",{style:this.state.q8k>0?E.eqOn:E.eqOff,onClick:function(t){return e.setBand8k(1)}}),s.a.createElement("td",{style:this.state.q16k>0?E.eqOn:E.eqOff,onClick:function(t){return e.setBand16k(1)}})),s.a.createElement("tr",null,s.a.createElement("td",{style:E.eqOn,onClick:function(t){return e.setBand32(0)}},"32"),s.a.createElement("td",{style:E.eqOn,onClick:function(t){return e.setBand64(0)}},"64"),s.a.createElement("td",{style:E.eqOn,onClick:function(t){return e.setBand128(0)}},"128"),s.a.createElement("td",{style:E.eqOn,onClick:function(t){return e.setBand256(0)}},"256"),s.a.createElement("td",{style:E.eqOn,onClick:function(t){return e.setBand512(0)}},"512"),s.a.createElement("td",{style:E.eqOn,onClick:function(t){return e.setBand1k(0)}},"1k"),s.a.createElement("td",{style:E.eqOn,onClick:function(t){return e.setBand2k(0)}},"2k"),s.a.createElement("td",{style:E.eqOn,onClick:function(t){return e.setBand4k(0)}},"4k"),s.a.createElement("td",{style:E.eqOn,onClick:function(t){return e.setBand8k(0)}},"8k"),s.a.createElement("td",{style:E.eqOn,onClick:function(t){return e.setBand16k(0)}},"16k")),s.a.createElement("tr",null,s.a.createElement("td",{style:this.state.q32<-0?E.eqOn:E.eqOff,onClick:function(t){return e.setBand32(-1)}}),s.a.createElement("td",{style:this.state.q64<-0?E.eqOn:E.eqOff,onClick:function(t){return e.setBand64(-1)}}),s.a.createElement("td",{style:this.state.q128<-0?E.eqOn:E.eqOff,onClick:function(t){return e.setBand128(-1)}}),s.a.createElement("td",{style:this.state.q256<-0?E.eqOn:E.eqOff,onClick:function(t){return e.setBand256(-1)}}),s.a.createElement("td",{style:this.state.q512<-0?E.eqOn:E.eqOff,onClick:function(t){return e.setBand512(-1)}}),s.a.createElement("td",{style:this.state.q1k<-0?E.eqOn:E.eqOff,onClick:function(t){return e.setBand1k(-1)}}),s.a.createElement("td",{style:this.state.q2k<-0?E.eqOn:E.eqOff,onClick:function(t){return e.setBand2k(-1)}}),s.a.createElement("td",{style:this.state.q4k<-0?E.eqOn:E.eqOff,onClick:function(t){return e.setBand4k(-1)}}),s.a.createElement("td",{style:this.state.q8k<-0?E.eqOn:E.eqOff,onClick:function(t){return e.setBand8k(-1)}}),s.a.createElement("td",{style:this.state.q16k<-0?E.eqOn:E.eqOff,onClick:function(t){return e.setBand16k(-1)}})),s.a.createElement("tr",null,s.a.createElement("td",{style:this.state.q32<-1?E.eqOn:E.eqOff,onClick:function(t){return e.setBand32(-2)}}),s.a.createElement("td",{style:this.state.q64<-1?E.eqOn:E.eqOff,onClick:function(t){return e.setBand64(-2)}}),s.a.createElement("td",{style:this.state.q128<-1?E.eqOn:E.eqOff,onClick:function(t){return e.setBand128(-2)}}),s.a.createElement("td",{style:this.state.q256<-1?E.eqOn:E.eqOff,onClick:function(t){return e.setBand256(-2)}}),s.a.createElement("td",{style:this.state.q512<-1?E.eqOn:E.eqOff,onClick:function(t){return e.setBand512(-2)}}),s.a.createElement("td",{style:this.state.q1k<-1?E.eqOn:E.eqOff,onClick:function(t){return e.setBand1k(-2)}}),s.a.createElement("td",{style:this.state.q2k<-1?E.eqOn:E.eqOff,onClick:function(t){return e.setBand2k(-2)}}),s.a.createElement("td",{style:this.state.q4k<-1?E.eqOn:E.eqOff,onClick:function(t){return e.setBand4k(-2)}}),s.a.createElement("td",{style:this.state.q8k<-1?E.eqOn:E.eqOff,onClick:function(t){return e.setBand8k(-2)}}),s.a.createElement("td",{style:this.state.q16k<-1?E.eqOn:E.eqOff,onClick:function(t){return e.setBand16k(-2)}})),s.a.createElement("tr",null,s.a.createElement("td",{style:this.state.q32<-2?E.eqOn:E.eqOff,onClick:function(t){return e.setBand32(-3)}}),s.a.createElement("td",{style:this.state.q64<-2?E.eqOn:E.eqOff,onClick:function(t){return e.setBand64(-3)}}),s.a.createElement("td",{style:this.state.q128<-2?E.eqOn:E.eqOff,onClick:function(t){return e.setBand128(-3)}}),s.a.createElement("td",{style:this.state.q256<-2?E.eqOn:E.eqOff,onClick:function(t){return e.setBand256(-3)}}),s.a.createElement("td",{style:this.state.q512<-2?E.eqOn:E.eqOff,onClick:function(t){return e.setBand512(-3)}}),s.a.createElement("td",{style:this.state.q1k<-2?E.eqOn:E.eqOff,onClick:function(t){return e.setBand1k(-3)}}),s.a.createElement("td",{style:this.state.q2k<-2?E.eqOn:E.eqOff,onClick:function(t){return e.setBand2k(-3)}}),s.a.createElement("td",{style:this.state.q4k<-2?E.eqOn:E.eqOff,onClick:function(t){return e.setBand4k(-3)}}),s.a.createElement("td",{style:this.state.q8k<-2?E.eqOn:E.eqOff,onClick:function(t){return e.setBand8k(-3)}}),s.a.createElement("td",{style:this.state.q16k<-2?E.eqOn:E.eqOff,onClick:function(t){return e.setBand16k(-3)}})),s.a.createElement("tr",null,s.a.createElement("td",{style:this.state.q32<-3?E.eqOn:E.eqOff,onClick:function(t){return e.setBand32(-4)}}),s.a.createElement("td",{style:this.state.q64<-3?E.eqOn:E.eqOff,onClick:function(t){return e.setBand64(-4)}}),s.a.createElement("td",{style:this.state.q128<-3?E.eqOn:E.eqOff,onClick:function(t){return e.setBand128(-4)}}),s.a.createElement("td",{style:this.state.q256<-3?E.eqOn:E.eqOff,onClick:function(t){return e.setBand256(-4)}}),s.a.createElement("td",{style:this.state.q512<-3?E.eqOn:E.eqOff,onClick:function(t){return e.setBand512(-4)}}),s.a.createElement("td",{style:this.state.q1k<-3?E.eqOn:E.eqOff,onClick:function(t){return e.setBand1k(-4)}}),s.a.createElement("td",{style:this.state.q2k<-3?E.eqOn:E.eqOff,onClick:function(t){return e.setBand2k(-4)}}),s.a.createElement("td",{style:this.state.q4k<-3?E.eqOn:E.eqOff,onClick:function(t){return e.setBand4k(-4)}}),s.a.createElement("td",{style:this.state.q8k<-3?E.eqOn:E.eqOff,onClick:function(t){return e.setBand8k(-4)}}),s.a.createElement("td",{style:this.state.q16k<-3?E.eqOn:E.eqOff,onClick:function(t){return e.setBand16k(-4)}})),s.a.createElement("tr",null,s.a.createElement("td",{style:this.state.q32<-4?E.eqOn:E.eqOff,onClick:function(t){return e.setBand32(-5)}}),s.a.createElement("td",{style:this.state.q64<-4?E.eqOn:E.eqOff,onClick:function(t){return e.setBand64(-5)}}),s.a.createElement("td",{style:this.state.q128<-4?E.eqOn:E.eqOff,onClick:function(t){return e.setBand128(-5)}}),s.a.createElement("td",{style:this.state.q256<-4?E.eqOn:E.eqOff,onClick:function(t){return e.setBand256(-5)}}),s.a.createElement("td",{style:this.state.q512<-4?E.eqOn:E.eqOff,onClick:function(t){return e.setBand512(-5)}}),s.a.createElement("td",{style:this.state.q1k<-4?E.eqOn:E.eqOff,onClick:function(t){return e.setBand1k(-5)}}),s.a.createElement("td",{style:this.state.q2k<-4?E.eqOn:E.eqOff,onClick:function(t){return e.setBand2k(-5)}}),s.a.createElement("td",{style:this.state.q4k<-4?E.eqOn:E.eqOff,onClick:function(t){return e.setBand4k(-5)}}),s.a.createElement("td",{style:this.state.q8k<-4?E.eqOn:E.eqOff,onClick:function(t){return e.setBand8k(-5)}}),s.a.createElement("td",{style:this.state.q16k<-4?E.eqOn:E.eqOff,onClick:function(t){return e.setBand16k(-5)}})),s.a.createElement("tr",null,s.a.createElement("td",{style:this.state.q32<-5?E.eqOn:E.eqOff,onClick:function(t){return e.setBand32(-6)}}),s.a.createElement("td",{style:this.state.q64<-5?E.eqOn:E.eqOff,onClick:function(t){return e.setBand64(-6)}}),s.a.createElement("td",{style:this.state.q128<-5?E.eqOn:E.eqOff,onClick:function(t){return e.setBand128(-6)}}),s.a.createElement("td",{style:this.state.q256<-5?E.eqOn:E.eqOff,onClick:function(t){return e.setBand256(-6)}}),s.a.createElement("td",{style:this.state.q512<-5?E.eqOn:E.eqOff,onClick:function(t){return e.setBand512(-6)}}),s.a.createElement("td",{style:this.state.q1k<-5?E.eqOn:E.eqOff,onClick:function(t){return e.setBand1k(-6)}}),s.a.createElement("td",{style:this.state.q2k<-5?E.eqOn:E.eqOff,onClick:function(t){return e.setBand2k(-6)}}),s.a.createElement("td",{style:this.state.q4k<-5?E.eqOn:E.eqOff,onClick:function(t){return e.setBand4k(-6)}}),s.a.createElement("td",{style:this.state.q8k<-5?E.eqOn:E.eqOff,onClick:function(t){return e.setBand8k(-6)}}),s.a.createElement("td",{style:this.state.q16k<-5?E.eqOn:E.eqOff,onClick:function(t){return e.setBand16k(-6)}})),s.a.createElement("tr",null,s.a.createElement("td",{style:this.state.q32<-6?E.eqOn:E.eqOff,onClick:function(t){return e.setBand32(-7)}}),s.a.createElement("td",{style:this.state.q64<-6?E.eqOn:E.eqOff,onClick:function(t){return e.setBand64(-7)}}),s.a.createElement("td",{style:this.state.q128<-6?E.eqOn:E.eqOff,onClick:function(t){return e.setBand128(-7)}}),s.a.createElement("td",{style:this.state.q256<-6?E.eqOn:E.eqOff,onClick:function(t){return e.setBand256(-7)}}),s.a.createElement("td",{style:this.state.q512<-6?E.eqOn:E.eqOff,onClick:function(t){return e.setBand512(-7)}}),s.a.createElement("td",{style:this.state.q1k<-6?E.eqOn:E.eqOff,onClick:function(t){return e.setBand1k(-7)}}),s.a.createElement("td",{style:this.state.q2k<-6?E.eqOn:E.eqOff,onClick:function(t){return e.setBand2k(-7)}}),s.a.createElement("td",{style:this.state.q4k<-6?E.eqOn:E.eqOff,onClick:function(t){return e.setBand4k(-7)}}),s.a.createElement("td",{style:this.state.q8k<-6?E.eqOn:E.eqOff,onClick:function(t){return e.setBand8k(-7)}}),s.a.createElement("td",{style:this.state.q16k<-6?E.eqOn:E.eqOff,onClick:function(t){return e.setBand16k(-7)}})),s.a.createElement("tr",null,s.a.createElement("td",{style:this.state.q32<-7?E.eqOn:E.eqOff,onClick:function(t){return e.setBand32(-8)}}),s.a.createElement("td",{style:this.state.q64<-7?E.eqOn:E.eqOff,onClick:function(t){return e.setBand64(-8)}}),s.a.createElement("td",{style:this.state.q128<-7?E.eqOn:E.eqOff,onClick:function(t){return e.setBand128(-8)}}),s.a.createElement("td",{style:this.state.q256<-7?E.eqOn:E.eqOff,onClick:function(t){return e.setBand256(-8)}}),s.a.createElement("td",{style:this.state.q512<-7?E.eqOn:E.eqOff,onClick:function(t){return e.setBand512(-8)}}),s.a.createElement("td",{style:this.state.q1k<-7?E.eqOn:E.eqOff,onClick:function(t){return e.setBand1k(-8)}}),s.a.createElement("td",{style:this.state.q2k<-7?E.eqOn:E.eqOff,onClick:function(t){return e.setBand2k(-8)}}),s.a.createElement("td",{style:this.state.q4k<-7?E.eqOn:E.eqOff,onClick:function(t){return e.setBand4k(-8)}}),s.a.createElement("td",{style:this.state.q8k<-7?E.eqOn:E.eqOff,onClick:function(t){return e.setBand8k(-8)}}),s.a.createElement("td",{style:this.state.q16k<-7?E.eqOn:E.eqOff,onClick:function(t){return e.setBand16k(-8)}})),s.a.createElement("tr",null,s.a.createElement("td",{style:this.state.q32<-8?E.eqOn:E.eqOff,onClick:function(t){return e.setBand32(-9)}}),s.a.createElement("td",{style:this.state.q64<-8?E.eqOn:E.eqOff,onClick:function(t){return e.setBand64(-9)}}),s.a.createElement("td",{style:this.state.q128<-8?E.eqOn:E.eqOff,onClick:function(t){return e.setBand128(-9)}}),s.a.createElement("td",{style:this.state.q256<-8?E.eqOn:E.eqOff,onClick:function(t){return e.setBand256(-9)}}),s.a.createElement("td",{style:this.state.q512<-8?E.eqOn:E.eqOff,onClick:function(t){return e.setBand512(-9)}}),s.a.createElement("td",{style:this.state.q1k<-8?E.eqOn:E.eqOff,onClick:function(t){return e.setBand1k(-9)}}),s.a.createElement("td",{style:this.state.q2k<-8?E.eqOn:E.eqOff,onClick:function(t){return e.setBand2k(-9)}}),s.a.createElement("td",{style:this.state.q4k<-8?E.eqOn:E.eqOff,onClick:function(t){return e.setBand4k(-9)}}),s.a.createElement("td",{style:this.state.q8k<-8?E.eqOn:E.eqOff,onClick:function(t){return e.setBand8k(-9)}}),s.a.createElement("td",{style:this.state.q16k<-8?E.eqOn:E.eqOff,onClick:function(t){return e.setBand16k(-9)}})),s.a.createElement("tr",null,s.a.createElement("td",{style:this.state.q32<-9?E.eqOn:E.eqOff,onClick:function(t){return e.setBand32(-10)}}),s.a.createElement("td",{style:this.state.q64<-9?E.eqOn:E.eqOff,onClick:function(t){return e.setBand64(-10)}}),s.a.createElement("td",{style:this.state.q128<-9?E.eqOn:E.eqOff,onClick:function(t){return e.setBand128(-10)}}),s.a.createElement("td",{style:this.state.q256<-9?E.eqOn:E.eqOff,onClick:function(t){return e.setBand256(-10)}}),s.a.createElement("td",{style:this.state.q512<-9?E.eqOn:E.eqOff,onClick:function(t){return e.setBand512(-10)}}),s.a.createElement("td",{style:this.state.q1k<-9?E.eqOn:E.eqOff,onClick:function(t){return e.setBand1k(-10)}}),s.a.createElement("td",{style:this.state.q2k<-9?E.eqOn:E.eqOff,onClick:function(t){return e.setBand2k(-10)}}),s.a.createElement("td",{style:this.state.q4k<-9?E.eqOn:E.eqOff,onClick:function(t){return e.setBand4k(-10)}}),s.a.createElement("td",{style:this.state.q8k<-9?E.eqOn:E.eqOff,onClick:function(t){return e.setBand8k(-10)}}),s.a.createElement("td",{style:this.state.q16k<-9?E.eqOn:E.eqOff,onClick:function(t){return e.setBand16k(-10)}})))),s.a.createElement("p",null,s.a.createElement("button",{onClick:this.onSetPower.bind(this)},"Power"),s.a.createElement("button",{onClick:this.onSetDance.bind(this)},"Dance"),s.a.createElement("button",{onClick:this.onSetNone.bind(this)},"Flat"),"\xa0\xa0\xa0",s.a.createElement("button",{onClick:this.handleCloseModal},"Close")))))}},{key:"contextTime",value:function(){return this.audioContext.currentTime}},{key:"onSetNone",value:function(){this.setBand32(0),this.setBand64(0),this.setBand128(0),this.setBand256(0),this.setBand512(0),this.setBand1k(0),this.setBand2k(0),this.setBand4k(0),this.setBand8k(0),this.setBand16k(0)}},{key:"onSetDance",value:function(){this.setBand32(2),this.setBand64(2),this.setBand128(1),this.setBand256(-1),this.setBand512(5),this.setBand1k(4),this.setBand2k(4),this.setBand4k(2),this.setBand8k(-2),this.setBand16k(3)}},{key:"onSetPower",value:function(){this.setBand32(2),this.setBand64(4),this.setBand128(3),this.setBand256(-2),this.setBand512(-3),this.setBand1k(1),this.setBand2k(2),this.setBand4k(3),this.setBand8k(-3),this.setBand16k(1)}},{key:"onChangeMaster",value:function(e){var t=e.target.value;this.setMasterVolume(t)}},{key:"onChangeEcho",value:function(e){var t=e.target.value;this.setEchoLevel(t)}},{key:"onChangeQ32",value:function(e){var t=e.target.value;this.setBand32(t)}},{key:"onChangeQ64",value:function(e){var t=e.target.value;this.setBand64(t)}},{key:"onChangeQ128",value:function(e){var t=e.target.value;this.setBand128(t)}},{key:"onChangeQ256",value:function(e){var t=e.target.value;this.setBand256(t)}},{key:"onChangeQ512",value:function(e){var t=e.target.value;this.setBand512(t)}},{key:"onChangeQ1k",value:function(e){var t=e.target.value;this.setBand1k(t)}},{key:"onChangeQ2k",value:function(e){var t=e.target.value;this.setBand2k(t)}},{key:"onChangeQ4k",value:function(e){var t=e.target.value;this.setBand4k(t)}},{key:"onChangeQ8k",value:function(e){var t=e.target.value;this.setBand8k(t)}},{key:"onChangeQ16k",value:function(e){var t=e.target.value;this.setBand16k(t)}},{key:"refreshCache",value:function(){if(this.state.instruments)for(var e=0;e<this.state.instruments.length;e++)this.cacheInstrument(this.state.instruments[e]);if(this.state.drums)for(var t=0;t<this.state.drums.length;t++)this.cacheDrum(this.state.drums[t])}},{key:"getProperties",value:function(){return{master:1*this.echo.output.gain.value}}},{key:"showPropertiesDialog",value:function(){this.handleOpenModal()}},{key:"handleOpenModal",value:function(){this.setState({showModal:!0})}},{key:"handleCloseModal",value:function(){this.setState({showModal:!1})}},{key:"initAudio",value:function(){console.log("initAudio M\u2669D\u2669Sounds"),this.player&&this.audioContext&&this.player.cancelQueue(this.audioContext);var e=window.AudioContext||window.webkitAudioContext;this.audioContext=new e,this.destination=this.audioContext.destination,this.player=new y.a,this.equalizer=this.player.createChannel(this.audioContext),this.output=this.audioContext.createGain(),this.echo=this.player.createReverberator(this.audioContext),this.echo.wet.gain.setTargetAtTime(this.state.echo,0,1e-4),this.echo.output.connect(this.output),this.equalizer.output.connect(this.echo.input),this.output.connect(this.destination),this.volumesInstrument=[],this.volumesDrum=[],this.midiNotes=[]}},{key:"cacheInstrument",value:function(e){var t=this.player.loader.instrumentInfo(e);window[t.variable]||(this.player.loader.startLoad(this.audioContext,t.url,t.variable),this.player.loader.waitLoad(function(){console.log("cached",e,t.title)}))}},{key:"cacheDrum",value:function(e){var t=this.player.loader.drumInfo(e);window[t.variable]||(this.player.loader.startLoad(this.audioContext,t.url,t.variable),this.player.loader.waitLoad(function(){console.log("cached",e,t.title)}))}},{key:"playDrum",value:function(e,t){var n=this.player.loader.drumInfo(t);if(window[n.variable]){var a=window[n.variable].zones[0].keyRangeLow,s=this.volumeDrumAdjust(t);this.player.queueWaveTable(this.audioContext,this.equalizer.input,window[n.variable],e,a,3,s)}else this.cacheDrum(t)}},{key:"playDrumsAt",value:function(e,t){for(var n=0;n<t.length;n++)this.playDrum(e,t[n])}},{key:"volumeInstrumentAdjust",value:function(e){return void 0!==this.volumesInstrument[e]?this.volumesInstrument[e]:1}},{key:"volumeDrumAdjust",value:function(e){return void 0!==this.volumesDrum[e]?this.volumesDrum[e]:1}},{key:"startPlayLoop",value:function(e,t,n,a){this.stopPlayLoop(),this.loopStarted=!0;var s=240/t;a<e.length?this.beatIndex=a:this.beatIndex=0,this.playBeatAt(this.contextTime(),e[this.beatIndex],t);var i=this.contextTime()+n*s,r=this;this.loopIntervalID=setInterval(function(){r.contextTime()>i-n*s&&(r.beatIndex++,r.beatIndex>=e.length&&(r.beatIndex=0),r.playBeatAt(i,e[r.beatIndex],t),i+=n*s)},22)}},{key:"stopPlayLoop",value:function(){this.loopStarted=!1,clearInterval(this.loopIntervalID),this.cancelQueue()}},{key:"cancelQueue",value:function(){this.player.cancelQueue(this.audioContext)}},{key:"playBeatAt",value:function(e,t,n){this.playDrumsAt(e,t[0]);for(var a=t[1],s=240/n,i=0;i<a.length;i++){var r=a[i],l=r[0],o=r[1],c=r[2],u=0;r.length>3&&(u=r[3]),1===u?this.playStrumDownAt(e,l,o,c*s):2===u?this.playStrumUpAt(e,l,o,c*s):3===u?this.playSnapAt(e,l,o,c*s):this.playChordAt(e,l,o,c*s)}}},{key:"playChordAt",value:function(e,t,n,a){var s=this.player.loader.instrumentInfo(t);window[s.variable]?this.player.queueChord(this.audioContext,this.equalizer.input,window[s.variable],e,n,a,this.volumeInstrumentAdjust(t)):this.cacheInstrument(t)}},{key:"playStrumUpAt",value:function(e,t,n,a){var s=this.player.loader.instrumentInfo(t);window[s.variable]?this.player.queueStrumUp(this.audioContext,this.equalizer.input,window[s.variable],e,n,a,this.volumeInstrumentAdjust(t)):this.cacheInstrument(t)}},{key:"playStrumDownAt",value:function(e,t,n,a){var s=this.player.loader.instrumentInfo(t);window[s.variable]?this.player.queueStrumDown(this.audioContext,this.equalizer.input,window[s.variable],e,n,a,this.volumeInstrumentAdjust(t)):this.cacheInstrument(t)}},{key:"playSnapAt",value:function(e,t,n,a){var s=this.player.loader.instrumentInfo(t);window[s.variable]?this.player.queueSnap(this.audioContext,this.equalizer.input,window[s.variable],e,n,a,this.volumeInstrumentAdjust(t)):this.cacheInstrument(t)}},{key:"midNoteOn",value:function(e,t){if(this.midiNoteOff(e),this.miditone){var n={pitch:e,envelope:this.player.queueWaveTable(this.audioContext,this.audioContext.destination,this.tone,0,e,123456789,t/100)};this.midiNotes.push(n)}}},{key:"midiNoteOff",value:function(e){for(var t=0;t<this.midiNotes.length;t++)if(this.midiNotes[t].pitch===e)return this.midiNotes[t].envelope&&this.midiNotes[t].envelope.cancel(),void this.midiNotes.splice(t,1)}},{key:"midiOnMIDImessage",value:function(e){var t=e.data,n=240&t[0],a=t[1],s=t[2];switch(n){case 144:this.midNoteOn(a,s);break;case 128:this.midiNoteOff(a)}}},{key:"midiOnStateChange",value:function(e){console.log("midiOnStateChange",e)}},{key:"requestMIDIAccessSuccess",value:function(e){for(var t=e.inputs.values(),n=t.next();n&&!n.done;n=t.next())console.log("midi input",n),n.value.onmidimessage=this.midiOnMIDImessage;e.onstatechange=this.midiOnStateChange}},{key:"requestMIDIAccessFailure",value:function(e){console.log("requestMIDIAccessFailure",e)}},{key:"startMIDIInput",value:function(){navigator.requestMIDIAccess?(console.log("navigator.requestMIDIAccess ok"),navigator.requestMIDIAccess().then(this.requestMIDIAccessSuccess,this.requestMIDIAccessFailure)):console.log("navigator.requestMIDIAccess undefined")}},{key:"playDrumsNow",value:function(e){this.playDrumsAt(0,e)}},{key:"playChordNow",value:function(e,t,n){this.playChordAt(0,e,t,n)}},{key:"playStrumUpNow",value:function(e,t,n){this.playStrumUpAt(0,e,t,n)}},{key:"playStrumDownNow",value:function(e,t,n){this.playStrumDownAt(0,e,t,n)}},{key:"playSnapNow",value:function(e,t,n){this.playSnapAt(0,e,t,n)}},{key:"setMasterVolume",value:function(e){this.output.gain.setTargetAtTime(e,0,1e-4),this.setState({master:e})}},{key:"setInstrumentVolume",value:function(e,t){this.volumesInstrument[e]=t}},{key:"setDrumVolume",value:function(e,t){this.volumesDrum[e]=t}},{key:"setEchoLevel",value:function(e){this.echo.wet.gain.setTargetAtTime(e,0,1e-4),this.setState({echo:e})}},{key:"setBand32",value:function(e){this.equalizer.band32.gain.setTargetAtTime(e,0,1e-4),this.setState({q32:e})}},{key:"setBand64",value:function(e){this.equalizer.band64.gain.setTargetAtTime(e,0,1e-4),this.setState({q64:e})}},{key:"setBand128",value:function(e){this.equalizer.band128.gain.setTargetAtTime(e,0,1e-4),this.setState({q128:e})}},{key:"setBand256",value:function(e){this.equalizer.band256.gain.setTargetAtTime(e,0,1e-4),this.setState({q256:e})}},{key:"setBand512",value:function(e){this.equalizer.band512.gain.setTargetAtTime(e,0,1e-4),this.setState({q512:e})}},{key:"setBand1k",value:function(e){this.equalizer.band1k.gain.setTargetAtTime(e,0,1e-4),this.setState({q1k:e})}},{key:"setBand2k",value:function(e){this.equalizer.band2k.gain.setTargetAtTime(e,0,1e-4),this.setState({q2k:e})}},{key:"setBand4k",value:function(e){this.equalizer.band4k.gain.setTargetAtTime(e,0,1e-4),this.setState({q4k:e})}},{key:"setBand8k",value:function(e){this.equalizer.band8k.gain.setTargetAtTime(e,0,1e-4),this.setState({q8k:e})}},{key:"setBand16k",value:function(e){this.equalizer.band16k.gain.setTargetAtTime(e,0,1e-4),this.setState({q16k:e})}},{key:"setKeyboardInstrument",value:function(e){var t=this.player.loader.instrumentInfo(e);window[t.variable]?this.miditone=window[t.variable]:(this.player.loader.startLoad(this.audioContext,t.url,t.variable),this.player.loader.waitLoad(function(){console.log("cached",e,t.title),this.miditone=window[t.variable]}))}}]),t}(s.a.Component),B=function e(t,n,a){Object(u.a)(this,e),this.notes=void 0,this.value=void 0,this.instr=void 0,this.notes=t,this.value=n,this.instr=a||3},v=function(e){function t(e){var n;return Object(u.a)(this,t),(n=Object(f.a)(this,Object(h.a)(t).call(this,e))).duration16th=0,n.duration8th=0,n.duration4th=0,n.midiSoundsRef=a.createRef(),n.state={bpm:150,currentNoteIndex:0,track:[new B([1],n.duration16th),new B([1],n.duration8th),new B([1],n.duration16th),new B([1],n.duration4th),new B([1],n.duration8th),new B([1],n.duration16th),new B([1],n.duration4th),new B([1],n.duration8th),new B([1],n.duration16th)]},n.updateDurations(),n}return Object(q.a)(t,e),Object(d.a)(t,[{key:"updateDurations",value:function(){this.duration16th=240/this.state.bpm,this.duration8th=4*this.duration16th,this.duration4th=4*this.duration8th}},{key:"resetTrack",value:function(){this.setState({currentNoteIndex:0})}},{key:"playNotes",value:function(e){this.midiSoundsRef.current&&this.midiSoundsRef.current.playChordNow([e.instr],e.notes,e.value)}},{key:"playNextNotes",value:function(){console.log("playNextNotes: currentNoteIndex = "+this.state.currentNoteIndex),this.state.currentNoteIndex>=this.state.track.length&&this.setState({currentNoteIndex:0}),this.playNotes(this.state.track[this.state.currentNoteIndex]),this.setState({currentNoteIndex:this.state.currentNoteIndex+1})}},{key:"playTestNote",value:function(){this.playNotes(new B([1],this.duration4th))}},{key:"componentDidUpdate",value:function(e){e.bpm!==this.state.bpm&&this.updateDurations()}},{key:"componentDidMount",value:function(){console.log("componentDidMount SoundPlayer"),this.setState(this.state),this.midiSoundsRef.current&&this.midiSoundsRef.current.setMasterVolume(.1)}},{key:"render",value:function(){return a.createElement("div",null,a.createElement(C,{ref:this.midiSoundsRef,appElementName:"root",instruments:[123]}),a.createElement("p",null,a.createElement("button",{onClick:this.playTestNote.bind(this)},"TEST")))}}]),t}(a.Component),p=(n(38),a.createElement);var g=function(e){function t(e){var n;return Object(u.a)(this,t),(n=Object(f.a)(this,Object(h.a)(t).call(this,e))).state={size:"4",pressed:!1,color:"#fff",borderColor:"#fff"},n}return Object(q.a)(t,e),Object(d.a)(t,[{key:"pulse",value:function(e){var t;console.log("pulse: "+this),this.setState({pressed:!1,borderColor:"#fff"}),t=1e3*e,new Promise(function(e){return setTimeout(e,t)}),this.setState({pressed:!0,borderColor:this.state.color})}},{key:"updateSquare",value:function(){this.state.pressed||this.setState({color:"#"+Math.random().toString(16).substr(-6)})}},{key:"squarePressed",value:function(){var e=this;this.state.pressed?(this.setState({pressed:!1,borderColor:"#fff"}),b.pressedSquares=b.pressedSquares.filter(function(t){return t!==e})):(this.setState({pressed:!0,borderColor:this.state.color}),b.pressedSquares.push(this))}},{key:"render",value:function(){var e=this;return p("div",{onClick:function(){return e.squarePressed()},onMouseEnter:function(){return e.updateSquare()},style:{backgroundColor:this.state.color,border:"6px solid"+this.state.borderColor,height:this.state.size+"em",width:this.state.size+"em",transition:"0.5s"}},null)}}]),t}(a.Component),b=function(e){function t(e){var n;return Object(u.a)(this,t),(n=Object(f.a)(this,Object(h.a)(t).call(this,e))).tableCells=[],n.soundPlayerRef=a.createRef(),n.state={width:0,height:0},n.updateWindowDimensions=n.updateWindowDimensions.bind(Object(c.a)(n)),n}return Object(q.a)(t,e),Object(d.a)(t,[{key:"fillGrid",value:function(){if(!this.tableCells.length)for(var e=0;e<this.state.height/80;e++){for(var t=[],n=[],a=0;a<this.state.width/80;a++)t.push(p(g,{})),n.push(p("td",{key:e*Math.ceil(this.state.width/40)+a,style:{padding:"-100px"}},t[t.length-1]));this.tableCells[e]=p("tr",{key:-1*e},n)}}},{key:"audioVisualAnimation",value:function(){var e=Object(o.a)(l.a.mark(function e(){var n,a,s,i,r,o;return l.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:if(!(t.pressedSquares.length>0)){e.next=30;break}n=!0,a=!1,s=void 0,e.prev=4,i=t.pressedSquares[Symbol.iterator]();case 6:if(n=(r=i.next()).done){e.next=15;break}return o=r.value,console.log("audioVisualAnimation: "+o),this.soundPlayerRef.current&&this.soundPlayerRef.current.playTestNote(),e.next=12,o.pulse(3);case 12:n=!0,e.next=6;break;case 15:e.next=21;break;case 17:e.prev=17,e.t0=e.catch(4),a=!0,s=e.t0;case 21:e.prev=21,e.prev=22,n||null==i.return||i.return();case 24:if(e.prev=24,!a){e.next=27;break}throw s;case 27:return e.finish(24);case 28:return e.finish(21);case 29:this.soundPlayerRef.current&&this.soundPlayerRef.current.resetTrack();case 30:case"end":return e.stop()}},e,this,[[4,17,21,29],[22,,24,28]])}));return function(){return e.apply(this,arguments)}}()},{key:"componentDidMount",value:function(){this.updateWindowDimensions(),window.addEventListener("resize",this.updateWindowDimensions)}},{key:"componentWillUnmount",value:function(){window.removeEventListener("resize",this.updateWindowDimensions)}},{key:"updateWindowDimensions",value:function(){this.setState({width:window.innerWidth,height:window.innerHeight})}},{key:"render",value:function(){return this.fillGrid(),this.audioVisualAnimation(),a.createElement("div",null,a.createElement("table",{className:"grid",cellSpacing:"0",cellPadding:"0"},a.createElement("tbody",null,this.tableCells)),a.createElement("div",null,a.createElement(v,{ref:this.soundPlayerRef})))}}]),t}(a.Component);b.pressedSquares=[];n(39);var w=function(){return a.createElement("div",{className:"App"},a.createElement(b,null))};Boolean("localhost"===window.location.hostname||"[::1]"===window.location.hostname||window.location.hostname.match(/^127(?:\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/));i.render(a.createElement(w,null),document.getElementById("root")),"serviceWorker"in navigator&&navigator.serviceWorker.ready.then(function(e){e.unregister()})}},[[17,1,2]]]);
//# sourceMappingURL=main.6722c532.chunk.js.map